{% extends 'blog/base.html' %}
{% block title %}{% if post %}Edit Post{% else %}Create Post{% endif %}{% endblock %}

{% block content %}
<h2 class="mb-3">{% if post %}Edit{% else %}Create{% endif %} Post</h2>
<form method="post" enctype="multipart/form-data" novalidate>
  {% csrf_token %}
  {{ form.non_field_errors }}
  <div class="mb-3">
    {{ form.title.label_tag }} {{ form.title }}
    {{ form.title.errors }}
  </div>

  <div class="mb-3">
    {{ form.content.label_tag }} {{ form.content }}
    {{ form.content.errors }}
  </div>

  <div class="mb-3">
    {{ form.category.label_tag }} {{ form.category }}
    {{ form.category.errors }}
  </div>

  <div class="mb-3">
    {{ form.feature_image.label_tag }} {{ form.feature_image }}
    {% if post and post.feature_image %}
    <div class="mt-2"><img src="{{ feature_image.url }}" class="img-thumbnail" style="max-width:200px;"></div>
    {% endif %}
    {{ form.feature_image.errors }}
  </div>

  <div class="mb-3">
    {{ form.status.label_tag }} {{ form.status }}
    {{ form.status.errors }}
  </div>

  <button class="btn btn-success">Save</button>
  <a class="btn btn-secondary" href="{% url 'dashboard' %}">Cancel</a>
</form>
{% endblock %}